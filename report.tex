\documentclass[12pt,a4paper]{article}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{booktabs}

\title{Course project}
\author{Shams Methnani \& Rodrigo Arias Mallo}

\begin{document}
\maketitle

\section{Problem statement}

\subsection{Parameters}

TODO: Describe params...

\subsection{Decision variables}

For the problem, 3 matrices are needed as decision variables. The last one is
auxiliary.
%
\begin{table}[h]
\centering
\begin{tabular}{c l}
\toprule
Symbol & Type and size \\
\midrule
$P$ & Binary matrix of size $N \times H$.\\
$W$ & Binary matrix of size $N \times H$.\\
$T$ & Binary matrix of size $N \times H$.\\
\bottomrule
\end{tabular}
\end{table}

\noindent
The matrix $P$ has the element $P_{n,h} = 1$ if the nurse $n$ is at the hospital
at hour $n$, also if is working, $W_{n,h} = 1$, otherwise 0.
%
The matrix $T$ is an auxiliary matrix, with the element $T_{n,h} = 1$ if the
nurse $n$ is travelling to the hospital at the hour $h$, otherwise 0.

\subsection{Constraints}

\paragraph{Constraint 1} At least $\textrm{demand}_h$ nurses should be working
at the hour $h$.
$$ \forall h\in H,\, \sum_{n \in N} W_{n,h} \ge \textrm{demand}_h$$
%
\paragraph{Constraint 2} Each working nurse should work at least minHours.
$$ \forall n \in N,\, \sum_{h \in H} W_{n,h} \ge \textrm{minHours} * \sum_{j \in H} T_{n,j} $$
%
\paragraph{Constraint 3} Each nurse should work at most maxHours.
$$ \forall n \in N,\, \sum_{h \in H} W_{n,h} \le \textrm{maxHours} $$
%
\paragraph{Constraint 4a} Each nurse should work at most maxConsec consecutive
hours.
$$ \forall n \in N,\, \forall h \in [1, \textrm{nHours} - \textrm{maxConsec}],$$
$$\sum_{k \in [0, maxConsec]} W_{n, h+k} \le \textrm{maxConsec}
$$
%
\paragraph{Constraint 4b} Wrap around case for maxConsecutive hours.
$$ \forall n \in N,\, \forall h \in [1, \textrm{maxConsec}],$$
$$\sum_{j \in [1, h]} W_{n, j} + \sum_{j \in [nHours-maxConsec+h, nHours]} W_{n, j}  \le \textrm{maxConsec}
$$
%
\paragraph{Constraint 5} No nurse can stay at the hospital for more than
maxPresence hours.
$$ \forall n \in N, \, \sum_{h \in H} P_{n,h} \le \textrm{maxPresence} $$
%
\paragraph{Constraint 6} No nurse can rest for more than one consecutive hour.
$$ \forall n \in N,\, \forall h \in [1, \textrm{nHours-1}],$$
$$W_{n, h} + W_{n, h+1} \ge P_{n,h+1} $$
%
\paragraph{Constraint 7} Working nurses can travel to hospital at most once.
$$ \forall n \in N,\,$$
$$ \sum_{h \in H} T_{n,h} \le 1 $$
%
\paragraph{Constraint 8a} If a nurse is present at current hour and wasnt at previous hour, then they traveled to hospital at current hour.
$$ \forall n N, \,\forall h \in [2, \textrm{nHours}],\,$$
$$ T_{n,h} \ge 1 - P_{n, h-1} + P_{n, h} - 1 $$
%
\paragraph{Constraint 8b} Add case for wrap-around
$$ \forall n \in N,\,$$
$$ T_{n, 1} \ge 1 - P_{n, nHours} + P_{n, 1} - 1 $$
%
\paragraph{Constraint 9} If nurse travels at current hour, then they were not present at previous hour.
$$ \forall n \in N,\,\forall h \in [2, \textrm{nHours}],\,$$
$$ T_{n,h} \le 1 - P_{n, h-1} $$
%
\paragraph{Constraint 10} If nurse travels at current hour, then they are present at current hour.
$$ \forall n \in N,\,\forall h \in H,\,$$
$$ T_{n,h} \le P_{n, h} $$
%

\end{document}
